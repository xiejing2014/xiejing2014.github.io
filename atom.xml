<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>莫失莫忘</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xiejing2014.github.io/"/>
  <updated>2018-05-18T05:28:09.595Z</updated>
  <id>http://xiejing2014.github.io/</id>
  
  <author>
    <name>不出名的刀客</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>用不同语言来遍历目录和文件</title>
    <link href="http://xiejing2014.github.io/2018/05/18/%E7%94%A8%E4%B8%8D%E5%90%8C%E8%AF%AD%E8%A8%80%E6%9D%A5%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E5%92%8C%E6%96%87%E4%BB%B6/"/>
    <id>http://xiejing2014.github.io/2018/05/18/用不同语言来遍历目录和文件/</id>
    <published>2018-05-18T02:28:15.000Z</published>
    <updated>2018-05-18T05:28:09.595Z</updated>
    
    <content type="html"><![CDATA[<p>最近翻移动硬盘，发现自己还短暂的写过两个月的perl语言，盘中赫然躺着一些perl脚本，其中一个便是实现的遍历目录及其包含的文件的脚本。<br>该功能无非就是利用递归来写代码，这里想用perl、python、shell和C语言分别对其进行编写，聊发少年狂而已。</p><h1 id="程序列表"><a href="#程序列表" class="headerlink" title="程序列表"></a>程序列表</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost script]# ls -tlr</span><br><span class="line">total 28</span><br><span class="line">-rwxr--r--. 1 root root  276 May 17 19:16 shell_find.sh</span><br><span class="line">-rwxr--r--. 1 root root  444 May 17 19:17 python_find.py</span><br><span class="line">-rwxr--r--. 1 root root  782 May 17 19:18 perl_find.sh</span><br><span class="line">-rw-r--r--. 1 root root 1184 May 17 19:36 C_Find.c</span><br><span class="line">-rwxr-xr-x. 1 root root 9048 May 17 19:37 C_Find</span><br><span class="line">[root@localhost script]#</span><br></pre></td></tr></table></figure><h2 id="1、perl"><a href="#1、perl" class="headerlink" title="1、perl"></a>1、perl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/perl</span><br><span class="line"></span><br><span class="line">use strict;</span><br><span class="line"></span><br><span class="line">my @filelist;</span><br><span class="line">my $dir = &quot;../python&quot;;</span><br><span class="line"></span><br><span class="line">push(@filelist,&amp;findfile($dir));</span><br><span class="line">print join(&quot;\n&quot;,@filelist);</span><br><span class="line">print &quot;\n&quot;;</span><br><span class="line"></span><br><span class="line">sub findfile&#123;</span><br><span class="line">        my @filelist;</span><br><span class="line">        my $dir = $_[0];</span><br><span class="line">        opendir(DIR,$dir);</span><br><span class="line">        my @temp = grep(!/^\.\.?$/,readdir(DIR));</span><br><span class="line">        close(DIR);</span><br><span class="line">        my $count = @temp;</span><br><span class="line">        my $i; </span><br><span class="line">        my $tmpdir;</span><br><span class="line">        for($i = 0; $i &lt; $count; $i++)&#123;</span><br><span class="line">                $tmpdir = (); </span><br><span class="line">                $tmpdir = &quot;$dir/$temp[$i]&quot;;</span><br><span class="line">                if(-d &quot;$tmpdir&quot;)&#123;</span><br><span class="line">                        push(@filelist,$tmpdir);                                                                                                                                             </span><br><span class="line">                        push(@filelist,&amp;findfile(&quot;$tmpdir&quot;));</span><br><span class="line">                &#125;   </span><br><span class="line">                else &#123;</span><br><span class="line">                        push(@filelist,$tmpdir);</span><br><span class="line">                &#125;   </span><br><span class="line">        &#125;   </span><br><span class="line">        return @filelist;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2、python"><a href="#2、python" class="headerlink" title="2、python"></a>2、python</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/python3</span><br><span class="line"># coding=utf-8</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">basedir = &apos;../python&apos;</span><br><span class="line">filelists = []</span><br><span class="line"></span><br><span class="line">def find(basedir):</span><br><span class="line">    global filelists</span><br><span class="line">    for parent,dirnames,filenames in os.walk(basedir):</span><br><span class="line">        for dirname in dirnames:</span><br><span class="line">            filelists.append(os.path.join(parent,dirname))                                                                                                                                   </span><br><span class="line">        for filename in filenames:</span><br><span class="line">            filelists.append(os.path.join(parent,filename))</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    find(basedir)</span><br><span class="line">    print(&apos;\n&apos;.join(filelists))</span><br></pre></td></tr></table></figure><h2 id="3、shell"><a href="#3、shell" class="headerlink" title="3、shell"></a>3、shell</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/bash</span><br><span class="line"></span><br><span class="line">set -o nounset</span><br><span class="line">set -o errexit</span><br><span class="line"></span><br><span class="line">function find()&#123;</span><br><span class="line">    for file in `ls $1`</span><br><span class="line">    do  </span><br><span class="line">        if [ -d $1&quot;/&quot;$file ]</span><br><span class="line">        then</span><br><span class="line">            echo $1&quot;/&quot;$file                                                                                                                                                                  </span><br><span class="line">            find $1&quot;/&quot;$file</span><br><span class="line">        else</span><br><span class="line">            echo $1&quot;/&quot;$file</span><br><span class="line">        fi  </span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">find &quot;../python&quot;</span><br></pre></td></tr></table></figure><h2 id="4、-C"><a href="#4、-C" class="headerlink" title="4、 C"></a>4、 C</h2><p>源代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">/* list dir and files through C */                                                                                                                                                           </span><br><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;dirent.h&gt;</span><br><span class="line">#include &lt;sys/stat.h&gt;</span><br><span class="line">#include &lt;sys/types.h&gt;</span><br><span class="line"></span><br><span class="line">#define MAX_PATH_LENGTH 512 </span><br><span class="line"></span><br><span class="line">int find(char *path)</span><br><span class="line">&#123;</span><br><span class="line">    DIR *ptr_dir;</span><br><span class="line">    struct dirent *dir_entry;</span><br><span class="line">    </span><br><span class="line">    int i = 0;</span><br><span class="line">    char *child_path;</span><br><span class="line"></span><br><span class="line">    child_path = (char*)malloc(sizeof(char)*MAX_PATH_LENGTH);</span><br><span class="line">    if(child_path == NULL)&#123;</span><br><span class="line">        printf(&quot;malloc child_path occurs errors.\n&quot;);</span><br><span class="line">        exit(1);</span><br><span class="line">    &#125;   </span><br><span class="line">    </span><br><span class="line">    memset(child_path,0x0,sizeof(char)*MAX_PATH_LENGTH);</span><br><span class="line"></span><br><span class="line">    ptr_dir = opendir(path);</span><br><span class="line">    while(( dir_entry = readdir(ptr_dir) ) != NULL)&#123;</span><br><span class="line">        if(dir_entry-&gt;d_type &amp; DT_DIR)&#123;</span><br><span class="line">            if(strcmp(dir_entry-&gt;d_name,&quot;.&quot;) == 0 ||  </span><br><span class="line">                    strcmp(dir_entry-&gt;d_name,&quot;..&quot;) == 0)&#123; </span><br><span class="line">                continue;</span><br><span class="line">            &#125;   </span><br><span class="line">            sprintf(child_path,&quot;%s/%s&quot;,path,dir_entry-&gt;d_name);</span><br><span class="line">            printf(&quot;%s\n&quot;,child_path);</span><br><span class="line">    </span><br><span class="line">            find(child_path);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            printf(&quot;%s/%s\n&quot;,path,dir_entry-&gt;d_name);</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;   </span><br><span class="line">    </span><br><span class="line">    free(child_path);</span><br><span class="line">    child_path = NULL;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    find(&quot;../python&quot;);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>编译：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o C_Find C_Find.c</span><br></pre></td></tr></table></figure></p><h1 id="执行结果"><a href="#执行结果" class="headerlink" title="执行结果"></a>执行结果</h1><p>上述代码执行结果一致，输出文件列表的默认排序或有差别。<br>以shell脚本的执行结果为例，输出如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost script]# ./shell_find.sh </span><br><span class="line">../python/countCodeLine2.py</span><br><span class="line">../python/countCodeLine.py</span><br><span class="line">../python/countCodeLine.py_ori</span><br><span class="line">../python/Django</span><br><span class="line">../python/How_to_be_pythonic</span><br><span class="line">../python/How_to_be_pythonic/add.c</span><br><span class="line">../python/How_to_be_pythonic/adder.so</span><br><span class="line">../python/How_to_be_pythonic/app_decrator.py</span><br><span class="line">../python/How_to_be_pythonic/cpython_api.py</span><br><span class="line">../python/How_to_be_pythonic/cpython_ctype.py</span><br><span class="line">../python/How_to_be_pythonic/cpython_SWIG.py</span><br><span class="line">../python/How_to_be_pythonic/debug.txt</span><br><span class="line">../python/How_to_be_pythonic/decrator.py</span><br><span class="line">../python/How_to_be_pythonic/def__.py</span><br><span class="line">../python/How_to_be_pythonic/enumerate.py</span><br><span class="line">../python/How_to_be_pythonic/exception.py</span><br><span class="line">../python/How_to_be_pythonic/forelse.py</span><br><span class="line">../python/How_to_be_pythonic/funccode1.py</span><br><span class="line">../python/How_to_be_pythonic/Generators.py</span><br><span class="line">../python/How_to_be_pythonic/kw-args.py</span><br><span class="line">../python/How_to_be_pythonic/out.log</span><br><span class="line">../python/How_to_be_pythonic/pprint.py</span><br><span class="line">../python/How_to_be_pythonic/set.py</span><br><span class="line">../python/How_to_be_pythonic/test3.py</span><br><span class="line">../python/How_to_be_pythonic/test.py</span><br><span class="line">[root@localhost script]#</span><br></pre></td></tr></table></figure></p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><ol><li>C语言的实现方法中，有关dirent、stat等结构体含义的描述，可参见：<br> <a href="http://www.360doc.com/content/15/0701/10/5470123_481878714.shtml" target="_blank" rel="noopener">http://www.360doc.com/content/15/0701/10/5470123_481878714.shtml</a></li><li>代码中输出的是目录及文件，可调整。</li><li>对列出的文件可做进一步的条件筛选，如后缀判断等。</li><li>可比较时间，可优化。</li><li>本文原作者:不出名的刀客，转载请一同转发本文链接。</li><li>第一次网上写技术文，文有不对之处，欢迎指正。</li><li>另，小白正在学习python，欢迎大神留言指教。</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近翻移动硬盘，发现自己还短暂的写过两个月的perl语言，盘中赫然躺着一些perl脚本，其中一个便是实现的遍历目录及其包含的文件的脚本。&lt;br&gt;该功能无非就是利用递归来写代码，这里想用perl、python、shell和C语言分别对其进行编写，聊发少年狂而已。&lt;/p&gt;
&lt;h
      
    
    </summary>
    
      <category term="开发经验" scheme="http://xiejing2014.github.io/categories/%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C/"/>
    
    
      <category term="perl" scheme="http://xiejing2014.github.io/tags/perl/"/>
    
      <category term="python" scheme="http://xiejing2014.github.io/tags/python/"/>
    
      <category term="shell" scheme="http://xiejing2014.github.io/tags/shell/"/>
    
      <category term="C/C++" scheme="http://xiejing2014.github.io/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>clearcase常用命令</title>
    <link href="http://xiejing2014.github.io/2018/05/12/clearcase%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://xiejing2014.github.io/2018/05/12/clearcase常用命令/</id>
    <published>2018-05-12T12:37:00.000Z</published>
    <updated>2018-05-16T10:16:33.321Z</updated>
    
    <content type="html"><![CDATA[<h1 id="常规操作"><a href="#常规操作" class="headerlink" title="常规操作"></a>常规操作</h1><h2 id="最基本的操作"><a href="#最基本的操作" class="headerlink" title="最基本的操作"></a>最基本的操作</h2><p>cleartool co -nc xxx.cpp<br>cleartool ci -nc xxx.cpp</p><h2 id="查看自己总共co了多少文件"><a href="#查看自己总共co了多少文件" class="headerlink" title="查看自己总共co了多少文件"></a>查看自己总共co了多少文件</h2><p>cleartool lscheckout -cview -me -avobs</p><h2 id="最有用的命令"><a href="#最有用的命令" class="headerlink" title="最有用的命令"></a>最有用的命令</h2><p>cleartool man xxx<br>cleartool help xxx</p><h2 id="新增目录和文件"><a href="#新增目录和文件" class="headerlink" title="新增目录和文件"></a>新增目录和文件</h2><p>cleartool mkdir -c comment new_dir<br>cleartool mkelem -c comment new_file.cpp</p><h2 id="放弃co某个文件"><a href="#放弃co某个文件" class="headerlink" title="放弃co某个文件"></a>放弃co某个文件</h2><p>cleartool unco -keep file.cpp           //保留当前所改动的文件<br>cleartool unco -rm   file.cpp</p><h2 id="主线、分支文件合并"><a href="#主线、分支文件合并" class="headerlink" title="主线、分支文件合并"></a>主线、分支文件合并</h2><p>//查找需要合并的文件<br>cleartool findmerge . -fversion /main/xxxx_path -print<br>//比较文件不同<br>cleartool diff file.cpp file.cpp@@/main/xxxx_path/LATEST<br>//查看最新版本<br>cleartool lsvtree file.cpp<br>//合并<br>cleartool merge -to file.cpp file.cpp@@/main/xxxx_path/LATEST file.cpp@@/main/LATEST</p><h2 id="标签相关"><a href="#标签相关" class="headerlink" title="标签相关"></a>标签相关</h2><p>//新建标签<br>cleartool mklbtype -nc TEST_LABEL<br>//给文件打标签<br>cleartool mklabel -r TEST_LABEL file.cpp<br>//删除标签<br>cleartool rmtype lbtype:TEST_LABEL<br>//给所有打上TEST_LABEL标签的文件打上TEST_LABEL2标签<br>cleartool mklabel -replace -version /main/TEST_LABEL TEST_LABEL2 *<br>//查找打上TEST_LABEL标签的所有文件<br>cleartool find . -version “lbtype(TEST_LABEL)” -print<br>//查找打上TEST_LABEL和TEST_LABEL2标签的文件<br>cleartool find . -element ‘lbtype_sub(TEST_LABEL) &amp;&amp; lbtype_sub(TEST_LABEL2)’ -print</p><h2 id="将整个目录导入clearcase"><a href="#将整个目录导入clearcase" class="headerlink" title="将整个目录导入clearcase"></a>将整个目录导入clearcase</h2><p>clearfsimport -recurse /xxx/xxx/xxx/src /view/zhuj/home/vobs/cc_account<br>/xxx/xxx/xxx/src目录（包括此目录下的所有目录和文件）被导入/view/zhuj/home/vobs/cc_account中（/view/zhuj/home/vobs/cc_account/src）</p><h1 id="clearcase常用命令集锦"><a href="#clearcase常用命令集锦" class="headerlink" title="clearcase常用命令集锦"></a>clearcase常用命令集锦</h1><h2 id="将整个目录导入clearcase-1"><a href="#将整个目录导入clearcase-1" class="headerlink" title="将整个目录导入clearcase"></a>将整个目录导入clearcase</h2><p>clearfsimport -r‘源路径’ ‘目标路径’</p><h2 id="加锁"><a href="#加锁" class="headerlink" title="加锁"></a>加锁</h2><p>find . -name ‘<em>.</em>‘ -exec ‘cleartool lock nuser userame1,username2 “%CLEARCASE_PN%”‘</p><h2 id="解锁"><a href="#解锁" class="headerlink" title="解锁"></a>解锁</h2><p>find . -name ‘<em>.</em>‘ -exec ‘cleartool unlock “%CLEARCASE_PN%”‘</p><h2 id="转换格式"><a href="#转换格式" class="headerlink" title="转换格式"></a>转换格式</h2><p>chtype -f compressed_file “fileName”</p><h2 id="查看VOB的基本信息和UUID"><a href="#查看VOB的基本信息和UUID" class="headerlink" title="查看VOB的基本信息和UUID"></a>查看VOB的基本信息和UUID</h2><p>des -l vob:.</p><h2 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h2><p>rmview -uuid “UUID”</p><h2 id="删除lost-found"><a href="#删除lost-found" class="headerlink" title="删除lost+found"></a>删除lost+found</h2><p>find . -name ‘<em>.</em>‘ -exec ‘cleartool rmelem -f “%CLEARCASE_PN%”‘</p><h2 id="查询某一天的修改记录"><a href="#查询某一天的修改记录" class="headerlink" title="查询某一天的修改记录"></a>查询某一天的修改记录</h2><p>cleartool lshis -r -since 07-dec</p><h2 id="最基本的操作-1"><a href="#最基本的操作-1" class="headerlink" title="最基本的操作"></a>最基本的操作</h2><p>cleartool co -nc filename<br>cleartool ci -nc filename</p><h2 id="查看自己总共co了多少文件-1"><a href="#查看自己总共co了多少文件-1" class="headerlink" title="查看自己总共co了多少文件"></a>查看自己总共co了多少文件</h2><p>cleartool lscheckout -cview –me -vobs</p><h2 id="make目录和文件"><a href="#make目录和文件" class="headerlink" title="make目录和文件"></a>make目录和文件</h2><p>cleartool mkdir -c comment newdirectory<br>cleartool mkelem -c comment newfilename</p><h2 id="主线、分支文件合并-1"><a href="#主线、分支文件合并-1" class="headerlink" title="主线、分支文件合并"></a>主线、分支文件合并</h2><p>//查找需要合并的文件<br>cleartool findmerge . -fversion /main/TEST_Path -print<br>//比较文件不同<br>cleartool diff filename [url=mailto:file.cpp@@/main/xxxx_path/LATEST]filename@@/main/TEST_Path/LATEST<br>//查看最新版本<br>cleartool lsvtree filename<br>//合并<br>cleartool merge -to filename [url=mailto:file.cpp@@/main/xxxx_path/LATEST]filename @@/main/TEST_path/LATEST [url=mailto:file.cpp@@/main/LATEST]filename @@/main/LATEST</p><h2 id="标签相关-1"><a href="#标签相关-1" class="headerlink" title="标签相关"></a>标签相关</h2><p>cleartool mklbtype -nc TEST_LABEL<br>cleartool mklabel -r TEST_LABEL filename<br>cleartool rmtype lbtype:TEST_LABEL<br>//给所有打上TEST_LABEL标签的文件打上TEST_LABEL标签<br>cleartool mklabel -replace -version /main/TEST_LABEL TEST_LABEL *<br>//查找打上TEST_LABEL标签的所有文件<br>cleartool find . -version “lbtype(TEST_LABEL)” -print<br>//查找打上TEST_LABEL和TEST_LABEL1标签的文件<br>cleartool find . -element ‘lbtype_sub(TEST_LABEL) &amp;&amp; lbtype_sub(TEST_LABEL1)’ -print</p><h2 id="察看某目录下的文件"><a href="#察看某目录下的文件" class="headerlink" title="察看某目录下的文件"></a>察看某目录下的文件</h2><p>ls</p><h2 id="man-help命令"><a href="#man-help命令" class="headerlink" title="man/help命令"></a>man/help命令</h2><p>cleartool man xxx<br>cleartool help xxx</p><h2 id="放弃co某个文件-1"><a href="#放弃co某个文件-1" class="headerlink" title="放弃co某个文件"></a>放弃co某个文件</h2><p>cleartool unco -keep filename<br>cleartool unco -rm filename</p><h2 id="更改VOB的Owner"><a href="#更改VOB的Owner" class="headerlink" title="更改VOB的Owner:"></a>更改VOB的Owner:</h2><p>cleartool protectvob –chown root /vob/vob.vbs</p><h2 id="更改VOB的Group"><a href="#更改VOB的Group" class="headerlink" title="更改VOB的Group:"></a>更改VOB的Group:</h2><p>cleartool protectvob –chgrp alluser /vob/vob.vbs</p><h2 id="增加Additional-Group"><a href="#增加Additional-Group" class="headerlink" title="增加Additional Group:"></a>增加Additional Group:</h2><p>cleartool protectvob –add_group group1 /vob/vob.vbs</p><h2 id="删除Additional-Group"><a href="#删除Additional-Group" class="headerlink" title="删除Additional Group:"></a>删除Additional Group:</h2><p>cleartool protectvob –delete_group group1 /vob/vob.vbs</p><h2 id="更改group、owner、mod"><a href="#更改group、owner、mod" class="headerlink" title="更改group、owner、mod"></a>更改group、owner、mod</h2><p>protect -r -chgrp groupname–chown username -chmod 770 .</p><h2 id="创建VOB"><a href="#创建VOB" class="headerlink" title="创建VOB"></a>创建VOB</h2><p>cleartool mkvob -tag /vobtags/test_code -c “Test” “D:\Data\Tets.vbs”</p><h2 id="Mount-vob"><a href="#Mount-vob" class="headerlink" title="Mount vob"></a>Mount vob</h2><p>Cleartool mount /vobtags/vob </p><h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><p>cleartool mkview –tag test /ccvob/views/test.vws </p><h2 id="设置当前视图"><a href="#设置当前视图" class="headerlink" title="设置当前视图"></a>设置当前视图</h2><p>cleartool setview test</p><h2 id="设置当前的activity"><a href="#设置当前的activity" class="headerlink" title="设置当前的activity"></a>设置当前的activity</h2><p>cleartool setactivity activityname</p><h2 id="Check-out"><a href="#Check-out" class="headerlink" title="Check out"></a>Check out</h2><p>Check out一个文件</p><p>Cleartool checkout [-reserve][-unreserve] filename</p><p>Check out前目录</p><p>Cleartool checkout .</p><p>Check out当前目录下所有文件</p><p>Cleartool Checkout –nc <em>.</em></p><p>Check out当前目录下所有的文件和目录中的文件</p><p>cleartool find . $file -exec ‘cleartool checkout -nc $CLEARCASE_PN’ </p><h2 id="Check-in"><a href="#Check-in" class="headerlink" title="Check in"></a>Check in</h2><p>Check in 一个文件</p><p>Cleartool checkin filename</p><p>Check in 当前目录<br>Cleartool checkin .</p><p>Check in 当前目录下所有文件.</p><p>Cleartool Checkin –nc <em>.</em></p><p>Check in当前目录下所有的文件和目录中的文件</p><p>cleartool find . $file -exec ‘cleartool checkin -nc –ide $CLEARCASE_PN’</p><p>以上内容来自：<a href="http://hi.baidu.com/is%CC%EC%B2%C5/blog/item/36bfbfc83cced1117f3e6fa0.html" target="_blank" rel="noopener">http://hi.baidu.com/is%CC%EC%B2%C5/blog/item/36bfbfc83cced1117f3e6fa0.html</a></p><h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><p>创建view：clt mkview -tag view_abcd /view_store/view_abcd.vws<br>设置view: clt setview view_abcd<br>编辑config specification: clt edcs</p><p>创建branch type：clt mkbrtype dbg_branch1_comments<br>在某个文件的当前branch上， 拉出一个branch：<br>clt mkbranch dbg_branch1_comments filename.c</p><p>now you have make branch on the file, and checked it out.<br>you can edit it with gvim.<br>After changed codes, you can complie it successfully, and test the result, you can check it in.<br>clt ci filename.c<br>If you want to check out it again:<br>clt co filename.c</p><p>To change the branch name to a formula name you can use the command:<br>clt rename brtype:dbg_branch1_comments brtype:crnumber_branch1_comments</p><p>To see the version tree of a file:<br>clt lsvtree -g filename.c</p><p>To see which files is included in a branch, you can edit a script like this find_branch.sh:</p><p>echo “$1”<br>cleartool find -avobs -element “brtype(“$1”)” -nxn -print | xargs cleart<br>ool ls -s|grep “$1”</p><p>To compare files, I write a useful script file mydiff.</p><p>You can use xcc&amp; to open graphic clearcase. So you can do most thing through the menu.</p><p>以上内容来自：<a href="http://www.diybl.com/course/4_webprogram/asp.net/netjs/20071020/78573.html" target="_blank" rel="noopener">http://www.diybl.com/course/4_webprogram/asp.net/netjs/20071020/78573.html</a></p><h1 id="clearcase实用命令"><a href="#clearcase实用命令" class="headerlink" title="clearcase实用命令"></a>clearcase实用命令</h1><p>查找分支上的文件<br>find . -branch brtype(branchname) -print<br>创建分支<br>mkbrtype -c “comment” branchname<br>创建Label<br>mklbtype -c “comment” labelname<br>用于 cleartool find 查询:<br>cleartool find -all -version “lbtype(REL1)” -print<br>find . -version ‘lbtype(LABEL)’ -print<br>锁分支命令<br>lock brtype:branchname<br>创建trigger<br>trigger已存在<br>mktrtype mktrtype -replace -element -all -preop mkelem -nusers shiquan -exec <a href="http://www.cnblogs.com/samcn/admin/file://192.168.1.5/cc_trigger/false.bat" target="_blank" rel="noopener">http://www.cnblogs.com/samcn/admin/file://192.168.1.5/cc_trigger/false.bat</a> NO_RM_MK<br>trigger不存在<br>mktrtype mktrtype -element -all -preop mkelem -nusers shiquan -exec <a href="http://www.cnblogs.com/samcn/admin/file://192.168.1.5/cc_trigger/false.bat" target="_blank" rel="noopener">http://www.cnblogs.com/samcn/admin/file://192.168.1.5/cc_trigger/false.bat</a> NO_RM_MK<br>日常开发人员常用命令</p><h1 id="开发人员常用命令"><a href="#开发人员常用命令" class="headerlink" title="开发人员常用命令"></a>开发人员常用命令</h1><h2 id="建立vob"><a href="#建立vob" class="headerlink" title="建立vob"></a>建立vob</h2><p>mkvob –tag /vobtags/vob1 –c “ VOB for project1” /vobstore/vob1.vbs</p><h2 id="Mount-vob-1"><a href="#Mount-vob-1" class="headerlink" title="Mount vob"></a>Mount vob</h2><p>Cleartool mount /vobtags/vob1</p><h2 id="创建视图-1"><a href="#创建视图-1" class="headerlink" title="创建视图"></a>创建视图</h2><p>cleartool mkview –tag test1 /ccvob/views/test1.vws</p><h2 id="设置当前视图-1"><a href="#设置当前视图-1" class="headerlink" title="设置当前视图"></a>设置当前视图</h2><p>cleartool setview test1</p><h2 id="在VOB的根目录下到入数据："><a href="#在VOB的根目录下到入数据：" class="headerlink" title="在VOB的根目录下到入数据："></a>在VOB的根目录下到入数据：</h2><p>clearfsimport –recurse –c “ comments “ /home/setup/* . ，注意命令的最后为圆点，表示当前目录。</p><h2 id="改变VOB的Owner"><a href="#改变VOB的Owner" class="headerlink" title="改变VOB的Owner:"></a>改变VOB的Owner:</h2><p>cleartool protectvob –chown root /vobstore/vob1.vbs</p><h2 id="改变VOB的Group"><a href="#改变VOB的Group" class="headerlink" title="改变VOB的Group:"></a>改变VOB的Group:</h2><p>cleartool protectvob –chgrp alluser /vobstore/vob1.vbs</p><h2 id="增加Additional-Group-1"><a href="#增加Additional-Group-1" class="headerlink" title="增加Additional Group:"></a>增加Additional Group:</h2><p>cleartool protectvob –add_group group1 /vobstore/vob1.vbs</p><h2 id="删除Additional-Group-1"><a href="#删除Additional-Group-1" class="headerlink" title="删除Additional Group:"></a>删除Additional Group:</h2><p>cleartool protectvob –delete_group group1 /vobstore/vob1.vbs<br>修改vob中数据的权限信息</p><h2 id="将jmccboss-VOB-中所有元素Owner-改成ccadmin，Group改成jmccboss"><a href="#将jmccboss-VOB-中所有元素Owner-改成ccadmin，Group改成jmccboss" class="headerlink" title="将jmccboss VOB 中所有元素Owner 改成ccadmin，Group改成jmccboss:"></a>将jmccboss VOB 中所有元素Owner 改成ccadmin，Group改成jmccboss:</h2><p>Cleartool protect –chown ccadmin –chgrp jmccboss .<br>.为vob根目录</p><h2 id="将jmccboss-VOB-中所有元素权限"><a href="#将jmccboss-VOB-中所有元素权限" class="headerlink" title="将jmccboss VOB 中所有元素权限"></a>将jmccboss VOB 中所有元素权限</h2><p> 改成对ccadmin（rwx），jmccboss(rwx)，其他VOB附属组成员（r-x）:<br>例： Cleartool protect –recurse –chmod 775 . ，</p><h2 id="Mount-vob-2"><a href="#Mount-vob-2" class="headerlink" title="Mount vob"></a>Mount vob</h2><p>Cleartool mount /vobtags/vob1</p><h2 id="创建视图-2"><a href="#创建视图-2" class="headerlink" title="创建视图"></a>创建视图</h2><p>cleartool mkview –tag test1 /ccvob/views/test1.vws</p><h2 id="设置当前视图-2"><a href="#设置当前视图-2" class="headerlink" title="设置当前视图"></a>设置当前视图</h2><p>cleartool setview test1</p><h2 id="在VOB的根目录下到入数据：-1"><a href="#在VOB的根目录下到入数据：-1" class="headerlink" title="在VOB的根目录下到入数据："></a>在VOB的根目录下到入数据：</h2><p>clearfsimport –recurse –c “ comments “ /home/setup/* . ，注意命令的最后为圆点，表示当前目录。</p><h2 id="Check-out-1"><a href="#Check-out-1" class="headerlink" title="Check out"></a>Check out</h2><p>Cleartool checkout [-reserve][-unreserve] b.c    Check out一个文件<br>Cleartool checkout .   Check out当前目录<br>Cleartool Checkout –nc <em>.</em>    Check out当前目录下所有文件<br>cleartool find . $file -exec ‘cleartool checkout -nc $CLEARCASE_PN’<br>Check out当前目录下所有的文件和目录中的文件</p><h2 id="Check-in-1"><a href="#Check-in-1" class="headerlink" title="Check in"></a>Check in</h2><p>Cleartool checkin b.c    Check in 一个文件<br>Cleartool checkin .    Check in 当前目录<br>Cleartool Checkin –nc <em>.</em>   Check in 当前目录下所有文件.<br>cleartool find . $file -exec ‘cleartool checkin -nc –ide $CLEARCASE_PN’<br>Check in当前目录下所有的文件和目录中的文件 </p><h2 id="建立一个snapshot-view"><a href="#建立一个snapshot-view" class="headerlink" title="建立一个snapshot view"></a>建立一个snapshot view</h2><p>cleartool mkview –tag pat_2_snapshot_view –snapshot /viewstore/pat/myviews.vws</p><h2 id="编辑config-spe"><a href="#编辑config-spe" class="headerlink" title="编辑config spe"></a>编辑config spe</h2><p>Cleartool edcs</p><h2 id="更新snapshot-view"><a href="#更新snapshot-view" class="headerlink" title="更新snapshot view"></a>更新snapshot view</h2><p>cleartool update pat_2_snapshot_view</p><h2 id="设置当前的activity-1"><a href="#设置当前的activity-1" class="headerlink" title="设置当前的activity"></a>设置当前的activity</h2><p>cleartool setactivity activityname<br>      gaibian leixing: chtype binary_delta_file Estonian.r<br>错误 :clearfsimport: Error: Trouble was encountered importing the following elements:<br>        D:\work\shiquan_study\Broadcom070122\BCM_R2.10_A1\mmi\design\gui\res\ffs_preload\CD_5_2_6.dm</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;常规操作&quot;&gt;&lt;a href=&quot;#常规操作&quot; class=&quot;headerlink&quot; title=&quot;常规操作&quot;&gt;&lt;/a&gt;常规操作&lt;/h1&gt;&lt;h2 id=&quot;最基本的操作&quot;&gt;&lt;a href=&quot;#最基本的操作&quot; class=&quot;headerlink&quot; title=&quot;最基本的操
      
    
    </summary>
    
      <category term="软件版本管理" scheme="http://xiejing2014.github.io/categories/%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/"/>
    
    
      <category term="clearcase" scheme="http://xiejing2014.github.io/tags/clearcase/"/>
    
  </entry>
  
  <entry>
    <title>致橡树</title>
    <link href="http://xiejing2014.github.io/2018/05/09/%E8%87%B4%E6%A9%A1%E6%A0%91/"/>
    <id>http://xiejing2014.github.io/2018/05/09/致橡树/</id>
    <published>2018-05-08T18:28:30.000Z</published>
    <updated>2018-05-16T09:18:40.621Z</updated>
    
    <content type="html"><![CDATA[<p>最近看《极限挑战》第四季，又听到这首诗，想起了还是在上学时候读过的~~~<br>记一下咯。</p><p>【作者】舒婷 【朝代】现代</p><p>我如果爱你——<br>绝不像攀援的凌霄花，<br>借你的高枝炫耀自己；<br>我如果爱你——<br>绝不学痴情的鸟儿，<br>为绿荫重复单调的歌曲；<br>也不止像泉源，<br>常年送来清凉的慰藉；<br>也不止像险峰，<br>增加你的高度，<br>衬托你的威仪。<br>甚至日光，<br>甚至春雨。<br>不，<br>这些都还不够！<br>我必须是你近旁的一株木棉，<br>作为树的形象和你站在一起。<br>根，<br>紧握在地下；<br>叶，<br>相触在云里。<br>每一阵风过，<br>我们都互相致意，<br>但没有人，<br>听懂我们的言语。<br>你有你的铜枝铁干，<br>像刀，<br>像剑，<br>也像戟；<br>我有我红硕的花朵，<br>像沉重的叹息，<br>又像英勇的火炬。<br>我们分担寒潮、<br>风雷、<br>霹雳；<br>我们共享雾霭、<br>流岚、<br>虹霓。<br>仿佛永远分离，<br>却又终身相依。<br>这才是伟大的爱情，<br>坚贞就在这里：<br>爱——<br>不仅爱你伟岸的身躯，<br>也爱你坚持的位置，<br>足下的土地。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;最近看《极限挑战》第四季，又听到这首诗，想起了还是在上学时候读过的~~~&lt;br&gt;记一下咯。&lt;/p&gt;
&lt;p&gt;【作者】舒婷 【朝代】现代&lt;/p&gt;
&lt;p&gt;我如果爱你——&lt;br&gt;绝不像攀援的凌霄花，&lt;br&gt;借你的高枝炫耀自己；&lt;br&gt;我如果爱你——&lt;br&gt;绝不学痴情的鸟儿，&lt;br&gt;
      
    
    </summary>
    
      <category term="杂记" scheme="http://xiejing2014.github.io/categories/%E6%9D%82%E8%AE%B0/"/>
    
    
      <category term="诗词" scheme="http://xiejing2014.github.io/tags/%E8%AF%97%E8%AF%8D/"/>
    
  </entry>
  
</feed>
